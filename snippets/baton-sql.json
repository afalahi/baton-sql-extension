{
  "Baton Resource Type (Basic)": {
    "prefix": ["baton-resource", "resource-type", "brt"],
    "description": "Add a new resource type with list query",
    "body": [
      "${1:resource_name}:",
      "  name: \"${2:Display Name}\"",
      "  description: \"${3:Description of this resource}\"",
      "  list:",
      "    query: |",
      "      ${4:# Your SELECT query here}",
      "    pagination:",
      "      strategy: \"${5|offset,cursor|}\"",
      "      primary_key: \"${6:id}\"",
      "    map:",
      "      id: \"${7:.id}\"",
      "      display_name: \"${8:.name}\"",
      "      description: \"${9:.description}\"",
      "      traits:",
      "        ${1:resource_name}:",
      "          profile:",
      "            ${10:# Add profile fields}"
    ]
  },
  "Baton Resource Type with Grants": {
    "prefix": ["baton-resource-grants", "resource-type-grants", "brtg"],
    "description": "Add a resource type with list, static entitlements, and grants",
    "body": [
      "${1:resource_name}:",
      "  name: \"${2:Display Name}\"",
      "  description: \"${3:Description}\"",
      "  list:",
      "    query: |",
      "      ${4:# Your SELECT query here}",
      "    pagination:",
      "      strategy: \"offset\"",
      "      primary_key: \"${5:id}\"",
      "    map:",
      "      id: \"${6:.id}\"",
      "      display_name: \"${7:.name}\"",
      "      description: \"${8:.description}\"",
      "  static_entitlements:",
      "    - id: \"${9:member}\"",
      "      display_name: \"'${10:Member}'\"",
      "      description: \"'${11:Member of this resource}'\"",
      "      purpose: \"${12|assignment,permission|}\"",
      "      grantable_to:",
      "        - \"${13:user}\"",
      "  grants:",
      "    - query: |",
      "        ${14:# Your grants query here - use ?<resource_id> to filter}",
      "      vars:",
      "        resource_id: resource.ID",
      "      pagination:",
      "        strategy: \"offset\"",
      "        primary_key: \"${15:id}\"",
      "      map:",
      "        - principal_id: \"${16:.principal_id}\"",
      "          principal_type: \"${17:user}\"",
      "          entitlement_id: \"${9:member}\""
    ]
  },
  "Baton Resource Type with Account Provisioning": {
    "prefix": ["baton-resource-provisioning", "resource-type-provisioning", "brtp"],
    "description": "Add a resource type with account provisioning",
    "body": [
      "${1:resource_name}:",
      "  name: \"${2:Display Name}\"",
      "  description: \"${3:Description}\"",
      "  list:",
      "    query: |",
      "      ${4:# Your SELECT query here}",
      "    pagination:",
      "      strategy: \"offset\"",
      "      primary_key: \"${5:id}\"",
      "    map:",
      "      id: \"${6:.id}\"",
      "      display_name: \"${7:.name}\"",
      "      description: \"${8:.description}\"",
      "  account_provisioning:",
      "    schema:",
      "      - name: \"${9:username}\"",
      "        description: \"${10:Username for the account}\"",
      "        type: \"string\"",
      "        required: true",
      "      - name: \"${11:email}\"",
      "        description: \"${12:Email address}\"",
      "        type: \"string\"",
      "        required: true",
      "    credentials:",
      "      ${13|random_password,no_password,encrypted_password|}:",
      "        preferred: true",
      "    validate:",
      "      vars:",
      "        ${9:username}: \"username\"",
      "      query: |",
      "        ${14:# Validation query here}",
      "    create:",
      "      vars:",
      "        ${9:username}: \"input.username\"",
      "        ${11:email}: \"input.email\"",
      "      queries:",
      "        - |",
      "          ${15:# INSERT query here}"
    ]
  },
  "Baton Account Provisioning Block": {
    "prefix": ["baton-account-provisioning", "account-provisioning", "bacc"],
    "description": "Add account provisioning configuration",
    "body": [
      "account_provisioning:",
      "  schema:",
      "    - name: \"${1:username}\"",
      "      description: \"${2:Username for the account}\"",
      "      type: \"string\"",
      "      required: true",
      "    - name: \"${3:email}\"",
      "      description: \"${4:Email address}\"",
      "      type: \"string\"",
      "      required: true",
      "  credentials:",
      "    ${5|random_password,no_password,encrypted_password|}:",
      "      preferred: true",
      "  validate:",
      "    vars:",
      "      ${1:username}: \"username\"",
      "    query: |",
      "      ${6:# Validation query here}",
      "  create:",
      "    vars:",
      "      ${1:username}: \"input.username\"",
      "      ${3:email}: \"input.email\"",
      "    queries:",
      "      - |",
      "        ${7:# INSERT query here}"
    ]
  },
  "Baton Grants Block": {
    "prefix": ["baton-grants", "grants", "bgrants"],
    "description": "Add grants configuration",
    "body": [
      "grants:",
      "  - query: |",
      "      ${1:# Your grants query here - use ?<resource_id> to filter}",
      "    vars:",
      "      resource_id: resource.ID",
      "    pagination:",
      "      strategy: \"${2|offset,cursor|}\"",
      "      primary_key: \"${3:id}\"",
      "    map:",
      "      - principal_id: \"${4:.principal_id}\"",
      "        principal_type: \"${5:user}\"",
      "        entitlement_id: \"${6:member}\""
    ]
  },
  "Baton Static Entitlement": {
    "prefix": ["baton-entitlement", "static-entitlement", "bent"],
    "description": "Add a static entitlement definition",
    "body": [
      "static_entitlements:",
      "  - id: \"${1:member}\"",
      "    display_name: \"'${2:Member}'\"",
      "    description: \"'${3:Member of this resource}'\"",
      "    purpose: \"${4|assignment,permission|}\"",
      "    grantable_to:",
      "      - \"${5:user}\""
    ]
  },
  "Baton Query Block": {
    "prefix": ["baton-query", "query", "bquery"],
    "description": "Add a query block",
    "body": [
      "query: |",
      "  ${1:# Your SQL query here}"
    ]
  },
  "Baton Actions": {
    "prefix": ["baton-actions", "actions", "bactions"],
    "description": "Add custom actions (enable/disable user, etc.)",
    "body": [
      "actions:",
      "  ${1:enable_user}:",
      "    name: ${2:Enable User}",
      "    description: ${3:Enable a disabled user account}",
      "    action_type:",
      "      - ${4|account_enable,account_disable,custom|}",
      "    arguments:",
      "      ${5:user_id}:",
      "        name: ${6:User ID}",
      "        type: ${7|string,int,boolean|}",
      "        required: ${8|true,false|}",
      "        description: ${9:The ID of the user}",
      "    query: |",
      "      ${10:# Your action query here (UPDATE, DELETE, etc.)}"
    ]
  },
  "Baton Credential Rotation": {
    "prefix": ["baton-credential-rotation", "credential-rotation", "bcred"],
    "description": "Add credential rotation configuration",
    "body": [
      "credential_rotation:",
      "  credentials:",
      "    ${1|random_password,no_password,encrypted_password|}:",
      "      ${2:max_length: 32}",
      "      ${3:min_length: 16}",
      "      preferred: true",
      "  update:",
      "    vars:",
      "      user_id: resource.ID",
      "      password: \"password\"",
      "    queries:",
      "      - |",
      "        ${4:# UPDATE query to rotate password}"
    ]
  },
  "Baton Static Entitlement with Provisioning": {
    "prefix": ["baton-entitlement-provisioning", "static-entitlement-provisioning", "bentp"],
    "description": "Add a static entitlement with grant/revoke provisioning",
    "body": [
      "static_entitlements:",
      "  - id: \"${1:member}\"",
      "    display_name: \"${2:resource.DisplayName + ' Member'}\"",
      "    description: \"'${3:Member of the ' + resource.DisplayName + ' resource'}\"",
      "    purpose: \"${4|assignment,permission,access|}\"",
      "    grantable_to:",
      "      - \"${5:user}\"",
      "    provisioning:",
      "      vars:",
      "        principal_id: principal.ID",
      "        resource_id: resource.ID",
      "      grant:",
      "        queries:",
      "          - |",
      "            ${6:# INSERT query to grant access}",
      "      revoke:",
      "        queries:",
      "          - |",
      "            ${7:# DELETE query to revoke access}"
    ]
  },
  "Baton Entitlements (Query-based)": {
    "prefix": ["baton-entitlements-query", "entitlements", "bentq"],
    "description": "Add query-based dynamic entitlements",
    "body": [
      "entitlements:",
      "  query: |",
      "    ${1:# Your entitlements query here - use ?<resource_id> to filter}",
      "  vars:",
      "    resource_id: resource.ID",
      "  map:",
      "    - id: \"${2:slugify(.entitlement_name)}\"",
      "      display_name: \"${3:.entitlement_name}\"",
      "      description: \"'${4:Has the ' + .entitlement_name + ' permission'}\"",
      "      grantable_to:",
      "        - \"${5:user}\"",
      "        - \"${6:role}\"",
      "      purpose: \"${7|assignment,permission,access|}\"",
      "      slug: \"${8:slugify(.entitlement_name)}\""
    ]
  },
  "Baton Expandable Grants": {
    "prefix": ["baton-expandable-grants", "expandable-grants", "bexpand"],
    "description": "Add grants with role expansion",
    "body": [
      "grants:",
      "  - query: |",
      "      ${1:# Your grants query here - use ?<resource_id> to filter}",
      "    vars:",
      "      resource_id: resource.ID",
      "    map:",
      "      - principal_id: \"${2:.principal_id}\"",
      "        principal_type: \"${3:role}\"",
      "        entitlement_id: \"${4:slugify(.entitlement_name)}\"",
      "        expandable:",
      "          entitlement_ids:",
      "            - \"'${3:role}:' + string(.${2:principal_id}) + ':member'\"",
      "          shallow: ${5|true,false|}"
    ]
  }
}
